using Newtonsoft.Json;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using WebVella.Erp.Api;
using WebVella.Erp.Api.Models;
using WebVella.Erp.Web.Models;

namespace WebVella.Erp.Plugins.Project
{
	public partial class ProjectPlugin : ErpPlugin
	{
		private static void Patch20190127(EntityManager entMan, EntityRelationManager relMan, RecordManager recMan)
		{

			#region << ***Delete page body node*** Page name: dashboard ID: f1650fc8-0810-4dba-bdff-f7b87d0a6e6a >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("f1650fc8-0810-4dba-bdff-f7b87d0a6e6a"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: dashboard ID: 8b436d58-7953-4c7c-9e18-e7243b363eb4 >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("8b436d58-7953-4c7c-9e18-e7243b363eb4"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: dashboard ID: d2ff8513-7320-409f-8900-2f3620adefa5 >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("d2ff8513-7320-409f-8900-2f3620adefa5"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: dashboard ID: 5572d01d-d455-4b4a-a4ad-eca0be212870 >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("5572d01d-d455-4b4a-a4ad-eca0be212870"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: dashboard ID: 8e5c35f3-d43a-4422-a06e-466343900a8b >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("8e5c35f3-d43a-4422-a06e-466343900a8b"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: dashboard ID: 2c8ab3cb-4cee-4507-839c-137699f13e8b >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("2c8ab3cb-4cee-4507-839c-137699f13e8b"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: dashboard ID: ee57a3d3-4319-439f-bd89-69d4bfdd616f >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("ee57a3d3-4319-439f-bd89-69d4bfdd616f"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: track-time ID: aac4d9a2-b3f7-4c3a-8f2a-b5242a83da21 >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("aac4d9a2-b3f7-4c3a-8f2a-b5242a83da21"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: track-time ID: b58e6f1f-e44d-4470-b3c6-5a46e05b3667 >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("b58e6f1f-e44d-4470-b3c6-5a46e05b3667"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: dashboard ID: 1bb9ca30-d167-40e9-bd93-e76b3e6f4db5 >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("1bb9ca30-d167-40e9-bd93-e76b3e6f4db5"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: dashboard ID: 46041332-edc7-417d-9f1a-40e4f7985869 >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("46041332-edc7-417d-9f1a-40e4f7985869"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: dashboard ID: 0d3f70c2-0fc9-426e-8174-954a4dd08638 >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("0d3f70c2-0fc9-426e-8174-954a4dd08638"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: dashboard ID: b0fe4c98-2766-4b00-90f0-c583f8001ad0 >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("b0fe4c98-2766-4b00-90f0-c583f8001ad0"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: dashboard ID: c6bf09c3-fc5e-4e2f-8df8-b96f733b964b >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("c6bf09c3-fc5e-4e2f-8df8-b96f733b964b"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: track-time ID: e6f79322-616c-42db-b603-a0cfb3125f9d >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("e6f79322-616c-42db-b603-a0cfb3125f9d"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: track-time ID: ea44e884-d6da-4666-953e-d05ac3f24b57 >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("ea44e884-d6da-4666-953e-d05ac3f24b57"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: track-time ID: 2dd6b580-b5f3-4fed-82c9-3da50f086139 >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("2dd6b580-b5f3-4fed-82c9-3da50f086139"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page body node*** Page name: track-time ID: 402274a5-b89d-4829-b8a4-e975c8552dd7 >>
			{

				new WebVella.Erp.Web.Services.PageService().DeletePageBodyNode(new Guid("402274a5-b89d-4829-b8a4-e975c8552dd7"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Delete page data source *** Name: ProjectWidgetMyOverdueTasks >>
			{

				new WebVella.Erp.Web.Repositories.PageDataSourceRepository(ErpSettings.ConnectionString).Delete(new Guid("5af27b39-f700-400a-bbb7-69ddb50e39cd"), WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Create page body node*** Page name: dashboard  id: d4c6bc3b-51d5-4f2d-a329-f02c59250a41 >>
			{
				var id = new Guid("d4c6bc3b-51d5-4f2d-a329-f02c59250a41");
				Guid? parentId = new Guid("63daa5c0-ed7f-432e-bfbb-746b94207146");
				Guid? nodeId = null;
				var pageId = new Guid("33f2cd33-cf38-4247-9097-75f895d1ef7a");
				var componentName = "WebVella.Erp.Plugins.Project.Components.PcProjectWidgetTasksQueue";
				var containerId = "body";
				var options = @"{
  ""project_id"": """",
  ""user_id"": ""{\""type\"":\""0\"",\""string\"":\""CurrentUser.Id\"",\""default\"":\""\""}"",
  ""type"": ""1""
}";
				var weight = 2;

				new WebVella.Erp.Web.Services.PageService().CreatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Update page body node*** Page: dashboard ID: 5b95ff72-dfc0-4a99-ad3a-6c6107f7bd4c >>
			{
				var id = new Guid("5b95ff72-dfc0-4a99-ad3a-6c6107f7bd4c");
				Guid? parentId = new Guid("47303562-04a3-4935-b228-aaa61527f963");
				Guid? nodeId = null;
				Guid pageId = new Guid("33f2cd33-cf38-4247-9097-75f895d1ef7a");
				var componentName = "WebVella.Erp.Plugins.Project.Components.PcProjectWidgetTasksChart";
				var containerId = "body";
				var options = @"{
  ""project_id"": """",
  ""user_id"": ""{\""type\"":\""0\"",\""string\"":\""CurrentUser.Id\"",\""default\"":\""\""}""
}";
				var weight = 1;

				new WebVella.Erp.Web.Services.PageService().UpdatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Update page body node*** Page: dashboard ID: 209d32c9-6c2f-4f45-859a-3ae2718ebf88 >>
			{
				var id = new Guid("209d32c9-6c2f-4f45-859a-3ae2718ebf88");
				Guid? parentId = new Guid("be907fa3-0971-45b5-9dcf-fabbb277fe54");
				Guid? nodeId = null;
				Guid pageId = new Guid("33f2cd33-cf38-4247-9097-75f895d1ef7a");
				var componentName = "WebVella.Erp.Plugins.Project.Components.PcProjectWidgetTasksPriorityChart";
				var containerId = "body";
				var options = @"{
  ""project_id"": """",
  ""user_id"": ""{\""type\"":\""0\"",\""string\"":\""CurrentUser.Id\"",\""default\"":\""\""}""
}";
				var weight = 1;

				new WebVella.Erp.Web.Services.PageService().UpdatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Update page body node*** Page: dashboard ID: 8e533c53-0bf5-4082-ae06-f47f1bd9b3b5 >>
			{
				var id = new Guid("8e533c53-0bf5-4082-ae06-f47f1bd9b3b5");
				Guid? parentId = new Guid("a584a5ed-96a2-4a28-95e8-23266bc36926");
				Guid? nodeId = null;
				Guid pageId = new Guid("33f2cd33-cf38-4247-9097-75f895d1ef7a");
				var componentName = "WebVella.Erp.Web.Components.PcSection";
				var containerId = "column2";
				var options = @"{
  ""title"": ""My 10 Upcoming Tasks "",
  ""title_tag"": ""strong"",
  ""is_card"": ""true"",
  ""class"": ""card-sm mb-3"",
  ""body_class"": """",
  ""is_collapsable"": ""false"",
  ""label_mode"": ""1"",
  ""field_mode"": ""1"",
  ""is_collapsed"": ""false""
}";
				var weight = 3;

				new WebVella.Erp.Web.Services.PageService().UpdatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Create page body node*** Page name: dashboard  id: f35b6e4b-3c81-409c-8f01-18e0d457e9ff >>
			{
				var id = new Guid("f35b6e4b-3c81-409c-8f01-18e0d457e9ff");
				Guid? parentId = new Guid("8e533c53-0bf5-4082-ae06-f47f1bd9b3b5");
				Guid? nodeId = null;
				var pageId = new Guid("33f2cd33-cf38-4247-9097-75f895d1ef7a");
				var componentName = "WebVella.Erp.Plugins.Project.Components.PcProjectWidgetTasksQueue";
				var containerId = "body";
				var options = @"{
  ""project_id"": """",
  ""user_id"": ""{\""type\"":\""0\"",\""string\"":\""CurrentUser.Id\"",\""default\"":\""\""}"",
  ""type"": ""3""
}";
				var weight = 1;

				new WebVella.Erp.Web.Services.PageService().CreatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Create page body node*** Page name: dashboard  id: ec0da060-7367-4263-b3fa-7c32765c97c5 >>
			{
				var id = new Guid("ec0da060-7367-4263-b3fa-7c32765c97c5");
				Guid? parentId = new Guid("6ef7bbd7-b96c-45d4-97e1-b8e43f489ed5");
				Guid? nodeId = null;
				var pageId = new Guid("33f2cd33-cf38-4247-9097-75f895d1ef7a");
				var componentName = "WebVella.Erp.Plugins.Project.Components.PcProjectWidgetTasksQueue";
				var containerId = "body";
				var options = @"{
  ""project_id"": """",
  ""user_id"": ""{\""type\"":\""0\"",\""string\"":\""CurrentUser.Id\"",\""default\"":\""\""}"",
  ""type"": ""2""
}";
				var weight = 1;

				new WebVella.Erp.Web.Services.PageService().CreatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Update page body node*** Page: track-time ID: e84c527a-4feb-4d60-ab91-4b1ecd89b39c >>
			{
				var id = new Guid("e84c527a-4feb-4d60-ab91-4b1ecd89b39c");
				Guid? parentId = null;
				Guid? nodeId = null;
				Guid pageId = new Guid("e9c8f7ef-4714-40e9-90cd-3814d89603b1");
				var componentName = "WebVella.Erp.Web.Components.PcGrid";
				var containerId = "";
				var options = @"{
  ""visible_columns"": 4,
  ""records"": ""{\""type\"":\""0\"",\""string\"":\""TrackTimeTasks\"",\""default\"":\""\""}"",
  ""id"": """",
  ""name"": """",
  ""prefix"": """",
  ""class"": """",
  ""striped"": ""false"",
  ""small"": ""false"",
  ""bordered"": ""true"",
  ""borderless"": ""false"",
  ""hover"": ""true"",
  ""responsive_breakpoint"": ""0"",
  ""empty_text"": ""No records"",
  ""has_thead"": ""true"",
  ""has_tfoot"": ""false"",
  ""container1_label"": ""my tasks "",
  ""container1_width"": """",
  ""container1_name"": ""task"",
  ""container1_nowrap"": ""false"",
  ""container1_sortable"": ""false"",
  ""container1_class"": """",
  ""container1_vertical_align"": ""3"",
  ""container1_horizontal_align"": ""1"",
  ""container2_label"": ""logged"",
  ""container2_width"": ""120px"",
  ""container2_name"": ""logged"",
  ""container2_nowrap"": ""false"",
  ""container2_sortable"": ""false"",
  ""container2_class"": ""timer-td"",
  ""container2_vertical_align"": ""3"",
  ""container2_horizontal_align"": ""1"",
  ""container3_label"": ""timelog"",
  ""container3_width"": ""130px"",
  ""container3_name"": """",
  ""container3_nowrap"": ""false"",
  ""container3_sortable"": ""false"",
  ""container3_class"": """",
  ""container3_vertical_align"": ""3"",
  ""container3_horizontal_align"": ""1"",
  ""container4_label"": ""action"",
  ""container4_width"": ""100px"",
  ""container4_name"": """",
  ""container4_nowrap"": ""true"",
  ""container4_sortable"": ""false"",
  ""container4_class"": """",
  ""container4_vertical_align"": ""1"",
  ""container4_horizontal_align"": ""1"",
  ""container5_label"": ""column5"",
  ""container5_width"": """",
  ""container5_name"": ""column5"",
  ""container5_nowrap"": ""false"",
  ""container5_sortable"": ""false"",
  ""container5_class"": """",
  ""container5_vertical_align"": ""1"",
  ""container5_horizontal_align"": ""1"",
  ""container6_label"": ""column6"",
  ""container6_width"": """",
  ""container6_name"": ""column6"",
  ""container6_nowrap"": ""false"",
  ""container6_sortable"": ""false"",
  ""container6_class"": """",
  ""container6_vertical_align"": ""1"",
  ""container6_horizontal_align"": ""1"",
  ""container7_label"": ""column7"",
  ""container7_width"": """",
  ""container7_name"": ""column7"",
  ""container7_nowrap"": ""false"",
  ""container7_sortable"": ""false"",
  ""container7_class"": """",
  ""container7_vertical_align"": ""1"",
  ""container7_horizontal_align"": ""1"",
  ""container8_label"": ""column8"",
  ""container8_width"": """",
  ""container8_name"": ""column8"",
  ""container8_nowrap"": ""false"",
  ""container8_sortable"": ""false"",
  ""container8_class"": """",
  ""container8_vertical_align"": ""1"",
  ""container8_horizontal_align"": ""1"",
  ""container9_label"": ""column9"",
  ""container9_width"": """",
  ""container9_name"": ""column9"",
  ""container9_nowrap"": ""false"",
  ""container9_sortable"": ""false"",
  ""container9_class"": """",
  ""container9_vertical_align"": ""1"",
  ""container9_horizontal_align"": ""1"",
  ""container10_label"": ""column10"",
  ""container10_width"": """",
  ""container10_name"": ""column10"",
  ""container10_nowrap"": ""false"",
  ""container10_sortable"": ""false"",
  ""container10_class"": """",
  ""container10_vertical_align"": ""1"",
  ""container10_horizontal_align"": ""1"",
  ""container11_label"": ""column11"",
  ""container11_width"": """",
  ""container11_name"": ""column11"",
  ""container11_nowrap"": ""false"",
  ""container11_sortable"": ""false"",
  ""container11_class"": """",
  ""container11_vertical_align"": ""1"",
  ""container11_horizontal_align"": ""1"",
  ""container12_label"": ""column12"",
  ""container12_width"": """",
  ""container12_name"": ""column12"",
  ""container12_nowrap"": ""false"",
  ""container12_sortable"": ""false"",
  ""container12_class"": """",
  ""container12_vertical_align"": ""1"",
  ""container12_horizontal_align"": ""1""
}";
				var weight = 4;

				new WebVella.Erp.Web.Services.PageService().UpdatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Create page body node*** Page name: track-time  id: 6b80c95e-a06d-4ad3-ae19-dfdc9fecf6ed >>
			{
				var id = new Guid("6b80c95e-a06d-4ad3-ae19-dfdc9fecf6ed");
				Guid? parentId = new Guid("e84c527a-4feb-4d60-ab91-4b1ecd89b39c");
				Guid? nodeId = null;
				var pageId = new Guid("e9c8f7ef-4714-40e9-90cd-3814d89603b1");
				var componentName = "WebVella.Erp.Web.Components.PcButton";
				var containerId = "column4";
				var options = @"{
  ""type"": ""0"",
  ""text"": ""set complete"",
  ""color"": ""0"",
  ""size"": ""3"",
  ""class"": ""set-completed"",
  ""id"": """",
  ""icon_class"": ""fa fa-check"",
  ""is_block"": ""false"",
  ""is_outline"": ""false"",
  ""is_active"": ""false"",
  ""is_disabled"": ""false"",
  ""onclick"": """",
  ""href"": """",
  ""new_tab"": ""false"",
  ""form"": """"
}";
				var weight = 1;

				new WebVella.Erp.Web.Services.PageService().CreatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Update page body node*** Page: dashboard ID: bcf153c5-8c7c-4ac8-a5d9-04e288ff7ccf >>
			{
				var id = new Guid("bcf153c5-8c7c-4ac8-a5d9-04e288ff7ccf");
				Guid? parentId = new Guid("a94793d2-492a-4b7e-9fac-199f8bf46f46");
				Guid? nodeId = null;
				Guid pageId = new Guid("50e4e84d-4148-4635-8372-4f2262747668");
				var componentName = "WebVella.Erp.Plugins.Project.Components.PcProjectWidgetTasksChart";
				var containerId = "body";
				var options = @"{
  ""project_id"": ""{\""type\"":\""0\"",\""string\"":\""Record.id\"",\""default\"":\""\""}""
}";
				var weight = 1;

				new WebVella.Erp.Web.Services.PageService().UpdatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Update page body node*** Page: dashboard ID: 4c58c1bb-321a-41c6-954f-4c6fafe6661c >>
			{
				var id = new Guid("4c58c1bb-321a-41c6-954f-4c6fafe6661c");
				Guid? parentId = new Guid("5466f4d1-20a5-4808-8bb5-aefaac756347");
				Guid? nodeId = null;
				Guid pageId = new Guid("50e4e84d-4148-4635-8372-4f2262747668");
				var componentName = "WebVella.Erp.Plugins.Project.Components.PcProjectWidgetBudgetChart";
				var containerId = "body";
				var options = @"{
  ""project_id"": ""{\""type\"":\""0\"",\""string\"":\""Record.id\"",\""default\"":\""\""}""
}";
				var weight = 1;

				new WebVella.Erp.Web.Services.PageService().UpdatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Create page body node*** Page name: dashboard  id: 8fbba43e-cd4d-4b0d-9e3e-7d19a2cc8468 >>
			{
				var id = new Guid("8fbba43e-cd4d-4b0d-9e3e-7d19a2cc8468");
				Guid? parentId = new Guid("734e7201-a15e-4ae5-8ea9-b683a94f80d0");
				Guid? nodeId = null;
				var pageId = new Guid("50e4e84d-4148-4635-8372-4f2262747668");
				var componentName = "WebVella.Erp.Plugins.Project.Components.PcProjectWidgetTasksQueue";
				var containerId = "body";
				var options = @"{
  ""project_id"": ""{\""type\"":\""0\"",\""string\"":\""Record.id\"",\""default\"":\""\""}"",
  ""user_id"": """",
  ""type"": ""2""
}";
				var weight = 1;

				new WebVella.Erp.Web.Services.PageService().CreatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Create page body node*** Page name: dashboard  id: 27a635a7-143c-4a28-bf08-601771a453c1 >>
			{
				var id = new Guid("27a635a7-143c-4a28-bf08-601771a453c1");
				Guid? parentId = new Guid("39fa86aa-3d7a-49af-bfa9-30f1c03671eb");
				Guid? nodeId = null;
				var pageId = new Guid("50e4e84d-4148-4635-8372-4f2262747668");
				var componentName = "WebVella.Erp.Plugins.Project.Components.PcProjectWidgetTasksQueue";
				var containerId = "body";
				var options = @"{
  ""project_id"": ""{\""type\"":\""0\"",\""string\"":\""Record.id\"",\""default\"":\""\""}"",
  ""user_id"": """",
  ""type"": ""1""
}";
				var weight = 2;

				new WebVella.Erp.Web.Services.PageService().CreatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Update page body node*** Page: account-monthly-timelog ID: 70424cd2-2b69-4c87-9977-cb60a72239fd >>
			{
				var id = new Guid("70424cd2-2b69-4c87-9977-cb60a72239fd");
				Guid? parentId = new Guid("7eff5a2c-5d5d-4989-a68f-a1362b0dad7c");
				Guid? nodeId = null;
				Guid pageId = new Guid("d23be591-dbb5-4795-86e4-8adbd9aff08b");
				var componentName = "WebVella.Erp.Web.Components.PcFieldNumber";
				var containerId = "column1";
				var options = @"{
  ""label_text"": ""Year"",
  ""label_mode"": ""0"",
  ""value"": ""{\""type\"":\""1\"",\""string\"":\""using System;\\nusing System.Collections.Generic;\\nusing WebVella.Erp.Web.Models;\\nusing WebVella.Erp.Api.Models;\\n\\npublic class SampleCodeVariable : ICodeVariable\\n{\\n\\tpublic object Evaluate(BaseErpPageModel pageModel)\\n\\t{\\n\\t\\ttry\\n\\t\\t{\\n\\t\\t    var value = (string)pageModel.DataModel.GetProperty(\\\""RequestQuery.year\\\"");\\n\\t\\t    if(string.IsNullOrWhiteSpace(value))\\n\\t\\t\\t    return DateTime.Now.Year;\\n\\t\\t\\telse\\n\\t\\t\\t    return value;\\n\\t\\t}\\n\\t\\tcatch(PropertyDoesNotExistException ex)\\n\\t\\t{\\n\\t\\t  return DateTime.Now.Year;\\n\\t\\t}\\n\\t\\tcatch(Exception ex)\\n\\t\\t{\\n\\t\\t\\treturn \\\""Error: \\\"" + ex.Message;\\n\\t\\t}\\n\\t}\\n}\"",\""default\"":\""\""}"",
  ""name"": ""year"",
  ""mode"": ""0"",
  ""decimal_digits"": 0,
  ""min"": 2000,
  ""max"": 2100,
  ""step"": 1,
  ""connected_entity_id"": """"
}";
				var weight = 1;

				new WebVella.Erp.Web.Services.PageService().UpdatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Update page body node*** Page: account-monthly-timelog ID: 0c32036a-4432-4b17-beb7-198ba22ea134 >>
			{
				var id = new Guid("0c32036a-4432-4b17-beb7-198ba22ea134");
				Guid? parentId = new Guid("7eff5a2c-5d5d-4989-a68f-a1362b0dad7c");
				Guid? nodeId = null;
				Guid pageId = new Guid("d23be591-dbb5-4795-86e4-8adbd9aff08b");
				var componentName = "WebVella.Erp.Web.Components.PcFieldSelect";
				var containerId = "column2";
				var options = @"{
  ""label_text"": ""Month"",
  ""label_mode"": ""0"",
  ""value"": ""{\""type\"":\""1\"",\""string\"":\""using System;\\nusing System.Collections.Generic;\\nusing WebVella.Erp.Web.Models;\\nusing WebVella.Erp.Api.Models;\\n\\npublic class SampleCodeVariable : ICodeVariable\\n{\\n\\tpublic object Evaluate(BaseErpPageModel pageModel)\\n\\t{\\n\\t\\ttry\\n\\t\\t{\\n\\t\\t    var value = (string)pageModel.DataModel.GetProperty(\\\""RequestQuery.month\\\"");\\n\\t\\t    if(string.IsNullOrWhiteSpace(value))\\n\\t\\t\\t    return DateTime.Now.Month;\\n\\t\\t\\telse\\n\\t\\t\\t    return value;\\n\\t\\t}\\n\\t\\tcatch(PropertyDoesNotExistException ex)\\n\\t\\t{\\n\\t\\t  return DateTime.Now.Month;\\n\\t\\t}\\n\\t\\tcatch(Exception ex)\\n\\t\\t{\\n\\t\\t\\treturn \\\""Error: \\\"" + ex.Message;\\n\\t\\t}\\n\\t}\\n}\"",\""default\"":\""\""}"",
  ""name"": ""month"",
  ""options"": ""{\""type\"":\""0\"",\""string\"":\""MonthSelectOptions\"",\""default\"":\""\""}"",
  ""mode"": ""0"",
  ""connected_entity_id"": """"
}";
				var weight = 1;

				new WebVella.Erp.Web.Services.PageService().UpdatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Update page body node*** Page: track-time ID: 663aa356-14d2-4e22-8dc8-a12b9fc971a1 >>
			{
				var id = new Guid("663aa356-14d2-4e22-8dc8-a12b9fc971a1");
				Guid? parentId = null;
				Guid? nodeId = null;
				Guid pageId = new Guid("e9c8f7ef-4714-40e9-90cd-3814d89603b1");
				var componentName = "WebVella.Erp.Web.Components.PcJavaScriptBlock";
				var containerId = "";
				var options = @"{
  ""script"": ""$(function(){\r\n\r\n\tfunction RunTimer(wvTimerEl) {\r\n\t\tvar recordRow = $(wvTimerEl).closest(\""tr\"");\r\n\t\trecordRow.addClass(\""go-bkg-orange-light\"");\r\n\t\tvar inputTotalEl = recordRow.find(\""input[name='timelog_total_seconds']\"");\r\n\t\tvar totalLoggedSeconds = $(inputTotalEl).val();\r\n\t\tvar totalLoggedSecondsDec = new Decimal(totalLoggedSeconds);\t\t\r\n\t\tvar loggedHours = totalLoggedSecondsDec.div(3600).toDecimalPlaces(0,Decimal.ROUND_DOWN);\r\n\t\tvar totalLeft = totalLoggedSecondsDec.minus(loggedHours.times(3600));\r\n\t\tvar loggedMinutes = totalLeft.div(60).toDecimalPlaces(0,Decimal.ROUND_DOWN);\r\n\t\ttotalLeft = totalLeft.minus(loggedMinutes.times(60));\r\n\t\tvar loggedSeconds = totalLeft;\r\n\t\tvar loggedHoursString = loggedHours.toString();\r\n\t\tif (loggedHours.lessThan(10)) {\r\n\t\t\tloggedHoursString = \""0\""+loggedHoursString;\r\n\t\t}\r\n\t\tvar loggedMinutesString = loggedMinutes.toString();\r\n\t\tif (loggedMinutes.lessThan(10)) {\r\n\t\t\tloggedMinutesString = \""0\""+loggedMinutesString;\r\n\t\t}\r\n\t\tvar loggedSecondsString = loggedSeconds.toString();\r\n\t\tif (loggedSeconds.lessThan(10)) {\r\n\t\t\tloggedSecondsString = \""0\""+loggedSecondsString;\r\n\t\t}\r\n\t\trecordRow.find(\"".timer-td span\"").html(loggedHoursString + ' : ' + loggedMinutesString + ' : ' + loggedSecondsString);\r\n\t\trecordRow.find(\"".timer-td span\"").addClass(\""go-orange\"").removeClass(\""go-gray\"");\r\n\t\ttotalLoggedSecondsDec = totalLoggedSecondsDec.plus(1);\r\n\t\t$(inputTotalEl).val(totalLoggedSecondsDec);\r\n\t}\r\n\r\n\tfunction EvaluateTimer(wvTimerEl) {\r\n\t\tvar recordRow = $(wvTimerEl).closest(\""tr\"");\r\n\t\tvar inputLogStartedOn = recordRow.find(\""input[name='timelog_started_on']\"");\r\n\t\tif (inputLogStartedOn.val()) {\r\n\t\t\trecordRow.find(\"".start-log-group\"").addClass(\""d-none\"");\r\n\t\t\trecordRow.find(\"".stop-log-group\"").removeClass(\""d-none\"");\r\n\t\t\tRunTimer(wvTimerEl);\r\n\t\t\tsetInterval(function () {\r\n\t\t\t\tRunTimer(wvTimerEl);\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t\telse {\r\n\t\t\trecordRow.find(\"".start-log-group\"").removeClass(\""d-none\"");\r\n\t\t\trecordRow.find(\"".stop-log-group\"").addClass(\""d-none\"");\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n    $(\"".wv-timer\"").each(function(){\r\n\t\tEvaluateTimer(this);\r\n    });\r\n    \r\n    $(\"".start-log\"").click(function(){\r\n        var clickedBtn = $(this);\r\n\t\tvar recordRow = clickedBtn.closest(\""tr\"");\r\n\t\tvar recordTimer = recordRow.find(\"".wv-timer\"");\r\n\r\n        var clickedBtnIcon = clickedBtn.find(\"".fa\"");\r\n        var clickedBtnTd = clickedBtn.closest(\""td\"");\r\n        var hiddenTaskInput = clickedBtnTd.find(\""input[name='task_id']\"");\r\n        var startLogGroup = clickedBtnTd.find(\"".start-log-group\"");\r\n        var stopLogGroup = clickedBtnTd.find(\"".stop-log-group\"");\r\n        var taskId = hiddenTaskInput.val();\r\n        \r\n        clickedBtn.prop('disabled', true);\r\n        clickedBtnIcon.removeClass(\""fa-play\"").addClass(\""fa-spin fa-spinner\"");\r\n        \r\n\t\t$.ajax({\r\n\t\ttype: \""POST\"",\r\n\t\turl: \""/api/v3.0/p/project/timelog/start?taskId=\""+taskId,\r\n\t\tdataType:\""json\"",\r\n\t\tsuccess: function(response){\r\n\t\t\tif(!response.success){\r\n\t\t\t\ttoastr.error(response.message, 'Error!', { closeButton: false, tapToDismiss: true });\r\n\t\t\t\tclickedBtn.prop('disabled', false);\r\n\t\t\t\tclickedBtnIcon.addClass(\""fa-play\"").removeClass(\""fa-spin fa-spinner\"");\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tstartLogGroup.addClass(\""d-none\"");\r\n\t\t\t\tstopLogGroup.removeClass(\""d-none\"");\r\n\t\t\t\tclickedBtn.prop('disabled', false);\r\n\t\t\t\tclickedBtnIcon.addClass(\""fa-play\"").removeClass(\""fa-spin fa-spinner\"");\r\n\t\t\t\trecordRow.find(\""input[name='timelog_started_on']\"").val(moment().toISOString());\r\n\t\t\t\tEvaluateTimer(recordTimer);\r\n\t\t\t}\r\n        \r\n\t\t},\r\n\t\terror:function(XMLHttpRequest, textStatus, errorThrown) {\r\n\t\t\ttoastr.error(textStatus, 'Error!', { closeButton: false, tapToDismiss: true });\r\n\t\t}\r\n\t\t});        \r\n\r\n    });\r\n\r\n\t$(\"".stop-log\"").click(function(){\r\n        var clickedBtn = $(this);\r\n\t\tvar recordRow = clickedBtn.closest(\""tr\"");\t\t\r\n\t\tvar inputTimelogStartEl = recordRow.find(\""input[name='timelog_started_on']\"");\r\n\t\tvar inputTaskId =  recordRow.find(\""input[name='task_id']\"");\r\n\t\tvar modalId = \""wv-6694f852-c49e-4dd2-a4dc-dd2f6faaf4b4\"";\r\n\t\tvar formEl = $(\""#\""+modalId);\r\n\t\tvar minutesFormInputEl = formEl.find(\""input[name='minutes']\"");\r\n\t\tvar taskIdFormInputEl = formEl.find(\""input[name='task_id']\"");\r\n\t\tvar logStartFormInputEl = formEl.find(\""input[name='timelog_started_on']\"");\r\n\t\t//set minutes\r\n\t\tvar logstartDate = $(inputTimelogStartEl).val();\r\n\t\tvar totalLoggedSeconds = moment().utc().diff(logstartDate, 'seconds');\r\n\t\tvar totalLoggedSecondsDec = new Decimal(totalLoggedSeconds);\t\r\n\t\tvar totalMinutes = totalLoggedSecondsDec.div(60).toDecimalPlaces(0,Decimal.ROUND_DOWN);\r\n\t\tminutesFormInputEl.val(totalMinutes.toNumber());\r\n\t\t//set taskId\r\n\t\ttaskIdFormInputEl.val(inputTaskId.val());\r\n\t\tlogStartFormInputEl.val(moment(logstartDate).format(\""DD MMM YYYY HH:mm\""));\r\n\t\tlogStartFormInputEl.prop('disabled', true);\r\n\t\t//set logstart date\r\n\t\tErpEvent.DISPATCH('WebVella.Erp.Web.Components.PcModal',{htmlId:modalId,action:'open',payload:null});\r\n\t});\r\n\t$(\"".manual-log\"").click(function(){\r\n        var clickedBtn = $(this);\r\n\t\tvar recordRow = clickedBtn.closest(\""tr\"");\t\t\r\n\t\tvar inputTotalEl = recordRow.find(\""input[name='timelog_total_seconds']\"");\r\n\t\tvar inputTaskId =  recordRow.find(\""input[name='task_id']\"");\r\n\t\tvar formId = \""wv-6694f852-c49e-4dd2-a4dc-dd2f6faaf4b4\"";\r\n\t\tvar formEl = $(\""#\""+formId);\r\n\t\tvar taskIdFormInputEl = formEl.find(\""input[name='task_id']\"");\r\n\t\t//set taskId\r\n\t\ttaskIdFormInputEl.val(inputTaskId.val());\r\n\t\tErpEvent.DISPATCH('WebVella.Erp.Web.Components.PcModal',{htmlId:formId,action:'open',payload:null});\t\t\r\n\t});\r\n\r\n\t$(\"".set-completed\"").click(function(){\r\n\t\tif (window.confirm(\""Confirm task change to completed status\"")) {\r\n\t\t\tvar clickedBtn = $(this);\r\n\t\t\tvar clickedBtnIcon = clickedBtn.find(\"".fa\"");\r\n\t\t\tclickedBtn.prop('disabled', false);\r\n\t\t\tclickedBtnIcon.removeClass(\""fa-check\"").addClass(\""fa-spin fa-spinner\"");\r\n\t\t\tvar recordRow = clickedBtn.closest(\""tr\"");\t\t\r\n\t\t\tvar inputTaskId =  recordRow.find(\""input[name='task_id']\"");\r\n\t\t\tvar taskId = inputTaskId.val();\r\n\r\n\t\t\t$.ajax({\r\n\t\t\ttype: \""POST\"",\r\n\t\t\turl: \""/api/v3.0/p/project/task/status?statusId=b1cc69e5-ce09-40e0-8785-b6452b257bdf&taskId=\""+taskId,\r\n\t\t\tdataType:\""json\"",\r\n\t\t\tsuccess: function(response){\r\n\t\t\t\tif(!response.success){\r\n\t\t\t\t\ttoastr.error(response.message, 'Error!', { closeButton: false, tapToDismiss: true });\r\n\t\t\t\t\tclickedBtn.prop('disabled', false);\r\n\t\t\t\t\tclickedBtnIcon.addClass(\""fa-check\"").removeClass(\""fa-spin fa-spinner\"");\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tclickedBtn.removeClass(\""btn-white\"").addClass(\""btn-success\"").html(\""<i class='fa fa-check'></i> completed\"");\r\n\t\t\t\t}\r\n        \r\n\t\t\t},\r\n\t\t\terror:function(XMLHttpRequest, textStatus, errorThrown) {\r\n\t\t\t\ttoastr.error(textStatus, 'Error!', { closeButton: false, tapToDismiss: true });\r\n\t\t\t}\r\n\t\t\t});   \r\n\t\t}\r\n\t});\r\n});""
}";
				var weight = 2;

				new WebVella.Erp.Web.Services.PageService().UpdatePageBodyNode(id, parentId, pageId, nodeId, weight, componentName, containerId, options, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion

			#region << ***Update page data source*** Name: TaskStatusesSelectOption >>
			{
				var id = new Guid("f5a2f77f-6d79-4180-b73f-7deb21895f4e");
				var pageId = new Guid("3a40b8e6-0a87-4eee-9b6b-6c665ebee28c");
				var dataSourceId = new Guid("12dcdf08-af03-4347-8015-bd9bace17514");
				var name = @"TaskStatusesSelectOption";
				var parameters = @"[{""name"":""DataSourceName"",""type"":""text"",""value"":""TaskStatuses""},{""name"":""KeyPropName"",""type"":""text"",""value"":""id""},{""name"":""ValuePropName"",""type"":""text"",""value"":""label""},{""name"":""SortOrderPropName"",""type"":""text"",""value"":""sort_index""}]";

				new WebVella.Erp.Web.Repositories.PageDataSourceRepository(ErpSettings.ConnectionString).Update(id, pageId, dataSourceId, name, parameters, WebVella.Erp.Database.DbContext.Current.Transaction);
			}
			#endregion


		}
	}
}
