@addTagHelper *, WebVella.Erp.Plugins.Core
@addTagHelper *, WebVella.Erp.Web
@using WebVella.Erp.Api.Models;
@using WebVella.Erp.Web.Models;
@using WebVella.Erp.Plugins.Next.Components;

@{
	var options = (PcProjectWidgetTasksPriority.PcProjectWidgetTasksPriorityOptions)ViewBag.Options;
	var datasets = (List<ErpChartDataset>)ViewBag.Datasets;
	var lowPriority = (int)ViewBag.LowPriority;
	var normalPriority = (int)ViewBag.NormalPriority;
	var highPriority = (int)ViewBag.HighPriority;
	var priorityOptions = (List<SelectOption>)ViewBag.PriorityOptions;
	var lowPriorityOption = priorityOptions.First(x => x.Value == "1");
	var normalPriorityOption = priorityOptions.First(x => x.Value == "2");
	var highPriorityOption = priorityOptions.First(x => x.Value == "3");
}
<wv-row flex-vertical-alignment="Center" class="w-100 h-100" no-gutters="true">
	<wv-column class="flex-grow-0">
		<wv-chart type="Doughnut" datasets="@datasets" width="100px" height="100px"></wv-chart>		
	</wv-column>
	<wv-column class="flex-grow-1 pl-4">
		<wv-row class="mb-2">
			<wv-column>
				<div>Low</div>
				<div><strong><i class="@lowPriorityOption.IconClass" style="color: @lowPriorityOption.Color"></i> @lowPriority</strong></div>			
			</wv-column>
			<wv-column>
				<div>Normal</div>
				<div><strong><i class="@normalPriorityOption.IconClass" style="color: @normalPriorityOption.Color"></i> @normalPriority</strong></div>		
			</wv-column>
		</wv-row>
		<wv-row class="mb-2">
			<wv-column>
				<div>High</div>
				<div><strong><i class="@highPriorityOption.IconClass" style="color: @highPriorityOption.Color"></i> @highPriority</strong></div>	
			</wv-column>
			<wv-column>
			</wv-column>
		</wv-row>		
	</wv-column>
</wv-row>